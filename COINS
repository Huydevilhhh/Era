-- 📌 GUI bật script 1 lần
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- 📌 Tạo GUI
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "OneTimeScriptGUI"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 160, 0, 60)
frame.Position = UDim2.new(0.05, 0, 0.2, 0)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true

local button = Instance.new("TextButton", frame)
button.Size = UDim2.new(1, -10, 1, -10)
button.Position = UDim2.new(0, 5, 0, 5)
button.BackgroundColor3 = Color3.fromRGB(0, 120, 0)
button.TextColor3 = Color3.new(1, 1, 1)
button.Font = Enum.Font.SourceSansBold
button.TextSize = 20
button.Text = "Bật Script"

-- 📌 Hàm chạy script chính (1 lần)
local function runScript()
    -- Reset
    player.Character:BreakJoints()
    task.wait(3)

    -- FireServer
    local args = { "3310460039_Medium_1", 2 }
    game:GetService("ReplicatedStorage"):WaitForChild("PlatformEventEvents"):WaitForChild("PlayButtonClicked"):FireServer(unpack(args))

    task.wait(2)

    -- Teleport
    local tx, ty, tz = -499.53, 43.44, 29.22
    local character = player.Character or player.CharacterAdded:Wait()
    local hrp = character:WaitForChild("HumanoidRootPart")
    hrp.CFrame = CFrame.new(tx, ty, tz)
    print(("🚀 Đã teleport tới X=%.2f, Y=%.2f, Z=%.2f"):format(tx, ty, tz))
Wait(0.5)
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- 📌 Tọa độ đích
local tx, ty, tz = -507.65, 43.44, 138.23

-- Teleport tới vị trí
hrp.CFrame = CFrame.new(tx, ty, tz)
print(("🚀 Đã teleport tới X=%.2f, Y=%.2f, Z=%.2f"):format(tx, ty, tz))

    -- Speed 40
    local humanoid = character:WaitForChild("Humanoid")
    humanoid.WalkSpeed = 40
    print("⚡ WalkSpeed đã đặt thành 40")
end

-- 📌 Khi bấm nút thì chạy script 1 lần rồi tắt
button.MouseButton1Click:Connect(function()
    button.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
    button.Text = "Đã chạy"
    button.Active = false -- Không cho bấm lại
    runScript()
end)
