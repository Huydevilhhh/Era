local VirtualInput = game:GetService("VirtualInputManager")

-- XÃ³a GUI cÅ© náº¿u cÃ³
pcall(function()
	if game.CoreGui:FindFirstChild("SimpleAutoClickGUI") then
		game.CoreGui:FindFirstChild("SimpleAutoClickGUI"):Destroy()
	end
end)

-- Táº¡o GUI
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "SimpleAutoClickGUI"
gui.ResetOnSpawn = false

-- Dáº¥u Ä‘á»‹nh vá»‹ click
local marker = Instance.new("Frame", gui)
marker.Size = UDim2.new(0, 20, 0, 20)
marker.Position = UDim2.new(0, 300, 0, 300)
marker.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
marker.BorderSizePixel = 0
marker.BackgroundTransparency = 0.3
marker.Active = true
marker.Draggable = true

-- NÃºt báº­t táº¯t auto click
local toggle = Instance.new("TextButton", gui)
toggle.Size = UDim2.new(0, 140, 0, 40)
toggle.Position = UDim2.new(0, 20, 0, 100)
toggle.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
toggle.Font = Enum.Font.SourceSansBold
toggle.TextSize = 18
toggle.Text = "ðŸ”´ Auto Click: OFF"
toggle.Active = true

-- NÃºt áº©n/hiá»‡n GUI
local toggleGui = Instance.new("TextButton", gui)
toggleGui.Size = UDim2.new(0, 140, 0, 40)
toggleGui.Position = UDim2.new(0, 20, 0, 50)
toggleGui.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
toggleGui.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleGui.Font = Enum.Font.SourceSansBold
toggleGui.TextSize = 18
toggleGui.Text = "ðŸ‘ï¸ Toggle GUI"
toggleGui.Active = true

-- Delay Box
local delayBox = Instance.new("TextBox", gui)
delayBox.Size = UDim2.new(0, 140, 0, 30)
delayBox.Position = UDim2.new(0, 20, 0, 150)
delayBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
delayBox.TextColor3 = Color3.fromRGB(255, 255, 255)
delayBox.Font = Enum.Font.SourceSans
delayBox.TextSize = 18
delayBox.PlaceholderText = "Delay (ex: 0.1)"
delayBox.Text = "0.1"

-- Tráº¡ng thÃ¡i
local autoClick = false
local delay = 0.1
local guiVisible = true

-- Xá»­ lÃ½ nháº­p delay
delayBox.FocusLost:Connect(function()
	local val = tonumber(delayBox.Text)
	if val and val >= 0.01 then
		delay = val
	else
		delayBox.Text = tostring(delay)
	end
end)

-- Toggle auto click
toggle.MouseButton1Click:Connect(function()
	autoClick = not autoClick
	toggle.Text = autoClick and "ðŸŸ¢ Auto Click: ON" or "ðŸ”´ Auto Click: OFF"
end)

-- Toggle toÃ n bá»™ GUI hiá»ƒn thá»‹
toggleGui.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	for _, child in ipairs(gui:GetChildren()) do
		if child ~= toggleGui then
			child.Visible = guiVisible
		end
	end
end)

-- VÃ²ng láº·p auto click (click Ä‘Ãºng tÃ¢m marker)
task.spawn(function()
	while true do
		if autoClick then
			local centerX = marker.AbsolutePosition.X + marker.AbsoluteSize.X / 2
			local centerY = marker.AbsolutePosition.Y + marker.AbsoluteSize.Y / 2

			VirtualInput:SendMouseButtonEvent(centerX, centerY, 0, true, game, 0)
			VirtualInput:SendMouseButtonEvent(centerX, centerY, 0, false, game, 0)
			task.wait(delay)
		else
			task.wait(0.1)
		end
	end
end)
